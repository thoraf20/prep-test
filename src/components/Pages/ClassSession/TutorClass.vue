<template>
  <div class="hold container-material">
    <div class="row aro">
      <!-- class history -->
      <div class="card-ish card-50 class-history">
        <div class="top">
          <h5>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve" width="28px" height="28px" class=""><g><g><g id="presentation-training-teaching-meeting-discussion_1_"><path d="M10,18c0,3.309,2.691,6,6,6s6-2.691,6-6s-2.691-6-6-6S10,14.691,10,18z M20,18c0,2.206-1.794,4-4,4s-4-1.794-4-4    s1.794-4,4-4S20,15.794,20,18z" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#4D4F5C"/><path d="M30.707,28.707l7-7c0.391-0.391,0.391-1.023,0-1.414l-3-3c-0.37-0.37-0.962-0.392-1.358-0.052l-6.884,5.9L19.795,26H8    c-0.289,0-0.562,0.124-0.752,0.342l-7,8c-0.234,0.267-0.309,0.638-0.196,0.975l3,9c0.092,0.274,0.298,0.496,0.566,0.607    c0.268,0.109,0.569,0.1,0.83-0.029l4-2C8.79,42.724,9,42.381,9,42.019V59c0,2.757,2.243,5,5,5h8c0.552,0,1-0.447,1-1V32.618    l7.447-3.724C30.544,28.847,30.631,28.783,30.707,28.707z M9,41.98c0-0.118-0.025-0.236-0.071-0.352L7.145,37.17L9,34.851V41.98z     M21.553,31.105C21.214,31.275,21,31.621,21,32v30h-4V46c0-0.553-0.448-1-1-1s-1,0.447-1,1v16h-1c-1.654,0-3-1.346-3-3V32    c0-0.425-0.268-0.803-0.669-0.943c-0.4-0.141-0.847-0.013-1.112,0.318l-4,5c-0.225,0.281-0.281,0.662-0.148,0.996l1.659,4.146    L4.584,42.59L2.13,35.228L8.454,28H20c0.135,0,0.27-0.027,0.394-0.081l7-3c0.093-0.04,0.18-0.094,0.257-0.16l6.297-5.396    L35.586,21l-6.178,6.178L21.553,31.105z" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><polygon points="14,32 15,32 15,40 17,40 17,32 18,32 18,30 14,30   " data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><path d="M64,50c0-3.309-2.691-6-6-6c-2.086,0-3.924,1.071-5,2.69C51.924,45.07,50.086,44,48,44s-3.924,1.071-5,2.69    C41.924,45.07,40.086,44,38,44c-3.309,0-6,2.691-6,6c0,2.086,1.071,3.924,2.69,5C33.07,56.076,32,57.914,32,60v4h2v-4    c0-2.206,1.794-4,4-4s4,1.794,4,4v4h2v-4c0-2.206,1.794-4,4-4s4,1.794,4,4v4h2v-4c0-2.206,1.794-4,4-4s4,1.794,4,4v4h2v-4    c0-2.086-1.071-3.924-2.69-5C62.929,53.924,64,52.086,64,50z M48,46c2.206,0,4,1.794,4,4s-1.794,4-4,4s-4-1.794-4-4    S45.795,46,48,46z M34,50c0-2.206,1.794-4,4-4s4,1.794,4,4s-1.794,4-4,4S34,52.206,34,50z M43,56.69    c-0.445-0.67-1.02-1.245-1.69-1.69c0.67-0.445,1.245-1.02,1.69-1.69c0.445,0.67,1.02,1.245,1.69,1.69    C44.02,55.445,43.445,56.02,43,56.69z M53,56.69c-0.445-0.67-1.02-1.245-1.69-1.69c0.67-0.445,1.245-1.02,1.69-1.69    c0.445,0.67,1.02,1.245,1.69,1.69C54.02,55.445,53.445,56.02,53,56.69z M58,54c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4    S60.206,54,58,54z" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><path d="M63,0H26c-0.552,0-1,0.447-1,1v19h2V2h35v27c0,1.654-1.346,3-3,3H28v2h31c2.757,0,5-2.243,5-5V1C64,0.447,63.552,0,63,0z" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><path d="M42,5H32c-0.552,0-1,0.447-1,1v4c0,0.553,0.448,1,1,1h10c0.552,0,1-0.447,1-1V9h3v1c0,0.553,0.448,1,1,1h4v3h-4    c-0.552,0-1,0.447-1,1v4c0,0.553,0.448,1,1,1h4v3h-4c-0.552,0-1,0.447-1,1v4c0,0.553,0.448,1,1,1h10c0.552,0,1-0.447,1-1v-4    c0-0.553-0.448-1-1-1h-4v-3h4c0.552,0,1-0.447,1-1v-4c0-0.553-0.448-1-1-1h-4v-3h4c0.552,0,1-0.447,1-1V6c0-0.553-0.448-1-1-1H47    c-0.552,0-1,0.447-1,1v1h-3V6C43,5.447,42.552,5,42,5z M41,9h-8V7h8V9z M56,27h-8v-2h8V27z M56,18h-8v-2h8V18z M48,7h8v2h-8V7z" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><rect x="32" y="13" width="11" height="2" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><rect x="39" y="17" width="4" height="2" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><rect x="40" y="21" width="3" height="2" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><rect x="37" y="25" width="6" height="2" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><path d="M4,10h0.5l2.7,3.6C7.393,13.856,7.691,14,8,14c0.105,0,0.212-0.017,0.316-0.052C8.725,13.812,9,13.431,9,13v-3h6    c1.654,0,3-1.346,3-3V3c0-1.654-1.346-3-3-3H4C2.346,0,1,1.346,1,3v4C1,8.654,2.346,10,4,10z M3,3c0-0.552,0.449-1,1-1h11    c0.551,0,1,0.448,1,1v4c0,0.552-0.449,1-1,1H8C7.448,8,7,8.447,7,9v1L5.8,8.4C5.611,8.148,5.315,8,5,8H4C3.449,8,3,7.552,3,7V3z" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/><rect x="5" y="4" width="9" height="2" data-original="#000000" class="active-path" data-old_color="#AA7D7D" fill="#639440"/></g><g id="Layer_1_21_"></g></g></g> </svg>
            Class History
          </h5>
          <!-- <button class="btn" @click.prevent="showCalendar">Submit Lessons</button> -->
          <div class="sasasa"></div>
        </div>
        <div class="body">
          <table class="table" v-if="progress.history">
            <thead>
              <tr>
                <td>S/N</td>
                <td>Subject</td>
                <td>Cycle</td>
                <td>Date Created</td>
              </tr>
            </thead>
            <tbody>
              <tr v-for="(l,index) of cl" :key="l.id">
                <td>{{ index + 1 }}</td>
                <td>{{ l.title }}</td>
                <td class="status"><span :class="statusize(l.cycle)"></span> {{ l.cycle }}</td>
                <td>{{ c.client && c.client.phone }}</td>
              </tr>
            </tbody>
          </table>
          <div v-else class="row justify-content-center">
            <div class="col text-center">
              <spinner />
            </div>
          </div>
          <div class="row b justify-content-center py-0">
            <router-link :to="{ name: 'class-logs', params: { id } }">View All</router-link>
          </div>
        </div>
      </div>
      <!-- end class history -->
      <!-- ticket history -->
      <div class="card-ish card-50 ticket-history">
        <div class="top">
          <h5>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 468.7 468.7" style="enable-background:new 0 0 468.7 468.7;" xml:space="preserve" width="28px" height="28px" class=""><g><g><g><path d="M449.35,0h-430c-6.6,0-12,5.4-12,12s5.4,12,12,12h25.9v432.4c0,4.4,2.4,8.5,6.3,10.6s8.6,1.9,12.3-0.6l52.1-34.7    l52.3,34.8c4,2.7,9.3,2.7,13.3,0l52.1-34.7l52.3,34.8c4,2.7,9.3,2.7,13.3,0l52.1-34.7l52.3,34.8c2,1.3,4.3,2,6.6,2    c1.9,0,3.9-0.5,5.7-1.4c3.9-2.1,6.3-6.2,6.3-10.6l-0.2-432.4h27.3c6.6,0,12-5.4,12-12S455.95,0,449.35,0z M398.35,434l-40.3-26.8    c-4-2.7-9.3-2.7-13.3,0l-52.1,34.8l-52.3-34.8c-4-2.7-9.3-2.7-13.3,0l-52.1,34.7l-52.3-34.7c-4-2.7-9.3-2.7-13.3,0l-40.1,26.7    v-410h329L398.35,434z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M124.45,191.6h125.7c6.6,0,12-5.4,12-12s-5.4-12-12-12h-125.7c-6.6,0-12,5.4-12,12S117.75,191.6,124.45,191.6z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M124.45,233.3h94.2c6.6,0,12-5.4,12-12s-5.4-12-12-12h-94.2c-6.6,0-12,5.4-12,12S117.75,233.3,124.45,233.3z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M312.95,191.6h31.4c6.6,0,12-5.4,12-12s-5.4-12-12-12h-31.4c-6.6,0-12,5.4-12,12S306.25,191.6,312.95,191.6z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M312.95,233.3h31.4c6.6,0,12-5.4,12-12s-5.4-12-12-12h-31.4c-6.6,0-12,5.4-12,12S306.25,233.3,312.95,233.3z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M124.45,95.3h125.7c6.6,0,12-5.4,12-12c0-6.6-5.4-12-12-12h-125.7c-6.6,0-12,5.4-12,12    C112.45,89.9,117.75,95.3,124.45,95.3z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M124.45,136.9h94.2c6.6,0,12-5.4,12-12s-5.4-12-12-12h-94.2c-6.6,0-12,5.4-12,12S117.75,136.9,124.45,136.9z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M312.95,95.3h31.4c6.6,0,12-5.4,12-12c0-6.6-5.4-12-12-12h-31.4c-6.6,0-12,5.4-12,12C300.95,89.9,306.25,95.3,312.95,95.3    z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M312.95,136.9h31.4c6.6,0,12-5.4,12-12s-5.4-12-12-12h-31.4c-6.6,0-12,5.4-12,12S306.25,136.9,312.95,136.9z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M124.45,289.1h125.7c6.6,0,12-5.4,12-12s-5.4-12-12-12h-125.7c-6.6,0-12,5.4-12,12S117.75,289.1,124.45,289.1z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M124.45,330.7h94.2c6.6,0,12-5.4,12-12s-5.4-12-12-12h-94.2c-6.6,0-12,5.4-12,12S117.75,330.7,124.45,330.7z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M312.95,289.1h31.4c6.6,0,12-5.4,12-12s-5.4-12-12-12h-31.4c-6.6,0-12,5.4-12,12S306.25,289.1,312.95,289.1z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M312.95,330.7h31.4c6.6,0,12-5.4,12-12s-5.4-12-12-12h-31.4c-6.6,0-12,5.4-12,12S306.25,330.7,312.95,330.7z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g></g></svg>
            Ticket History
          </h5>
          <button class="btn" @click.prevent="showModal">Make Complaint</button>
          <div class="sasasa"></div>
        </div>
        <div class="body">
          <table class="table" v-if="progress.ticket_history">
            <thead>
              <tr>
                <td>S/N</td>
                <td>Ticket ID</td>
                <td>Status</td>
                <td>Opened On</td>
                <td>Last Updated</td>
              </tr>
            </thead>
            <tbody>
              <tr v-for="(t,index) of tickets" :key="t.id">
                <td>{{ index + 1 }}</td>
                <td>{{ t.id }}</td>
                <td class="status"><span :class="t.status ? t.status.name.toLowerCase() : 'default'"></span>{{ t.status && t.status.name }}</td>
                <td>{{ t.opened_at && t.opened_at.carbon && moments(t.opened_at.carbon.date) }}</td>
                <td>{{ t.updated_at && t.updated_at.human }}</td>
              </tr>
            </tbody>
          </table>
          <div v-else class="row justify-content-center">
            <div class="col text-center">
              <spinner />
            </div>
          </div>
          <div class="row b justify-content-center py-0">
            <router-link :to="{ name: 'class-tickets', params: { id } }">View All</router-link>
          </div>
        </div>
      </div>
      <!-- end ticket history -->
    </div>
    <div class="row aro">
      <div class="card-ish card-100">
        <div class="top">
          <h5>Class Details</h5>
          <h5>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 442.003 442.003" style="enable-background:new 0 0 442.003 442.003;" xml:space="preserve" width="28px" height="28px" class=""><g><g><path d="M337.897,189.476c-0.01-0.082-0.016-0.165-0.028-0.246c-0.058-0.404-0.135-0.807-0.244-1.205   c-0.001-0.004-0.003-0.008-0.004-0.013c-0.102-0.372-0.232-0.739-0.379-1.102c-0.042-0.104-0.088-0.204-0.133-0.306   c-0.116-0.262-0.245-0.52-0.385-0.774c-0.061-0.111-0.12-0.222-0.186-0.331c-0.035-0.059-0.063-0.12-0.1-0.179   c-0.148-0.235-0.31-0.456-0.474-0.675c-0.031-0.041-0.056-0.084-0.087-0.124c-0.25-0.324-0.52-0.625-0.803-0.91   c-0.053-0.054-0.111-0.104-0.166-0.156c-0.246-0.237-0.501-0.459-0.767-0.668c-0.068-0.053-0.134-0.106-0.204-0.157   c-0.356-0.264-0.723-0.51-1.106-0.723L185.506,98.164l84.825-53.414l142.207,80.832l-59.891,37.713   c-4.674,2.942-6.077,9.117-3.134,13.79c2.942,4.674,9.116,6.077,13.79,3.134l74.026-46.613c2.976-1.873,4.749-5.172,4.669-8.688   c-0.079-3.516-1.998-6.73-5.056-8.468L275.009,24.404c-3.203-1.822-7.15-1.732-10.27,0.231L160.783,90.096   c-0.021,0.013-0.043,0.027-0.064,0.04l-51.947,32.711c-0.024,0.015-0.048,0.03-0.071,0.045L4.674,188.398   c-2.976,1.873-4.749,5.172-4.669,8.688c0.079,3.516,1.998,6.73,5.056,8.468l161.934,92.046c1.534,0.873,3.238,1.307,4.941,1.307   c1.853,0,3.703-0.515,5.328-1.538l74.026-46.614c4.674-2.942,6.077-9.117,3.134-13.79c-2.941-4.674-9.117-6.078-13.79-3.134   l-68.961,43.424L29.466,196.421l84.826-53.415l151.67,86.212v114.182c0,3.642,1.979,6.995,5.167,8.755   c1.507,0.832,3.171,1.245,4.833,1.245c1.854,0,3.704-0.515,5.328-1.538l52.014-32.753c2.908-1.831,4.672-5.026,4.672-8.462v-120   c0-0.059-0.01-0.115-0.012-0.174C337.958,190.141,337.936,189.809,337.897,189.476z M285.962,325.287V223.401   c0-3.597-1.932-6.916-5.059-8.693l-147.411-83.791l32.813-20.663l142.206,80.833l-12.451,7.84   c-4.674,2.942-6.077,9.117-3.134,13.79c1.9,3.02,5.149,4.673,8.472,4.673c1.82,0,3.664-0.497,5.318-1.539l11.259-7.089v96.366   L285.962,325.287z" data-original="#000000" class="active-path" data-old_color="#6===--" fill="#639440"/><path d="M426.674,156.681l-74.026,46.613c-4.674,2.942-6.077,9.117-3.134,13.79c1.9,3.02,5.149,4.673,8.472,4.673   c1.82,0,3.664-0.497,5.318-1.539l74.026-46.613c4.674-2.942,6.077-9.117,3.134-13.79   C437.522,155.141,431.347,153.737,426.674,156.681z" data-original="#000000" class="active-path" data-old_color="#6===--" fill="#639440"/><path d="M240.633,273.83l-68.961,43.424L14.943,228.167c-4.798-2.728-10.906-1.052-13.635,3.752   c-2.729,4.801-1.05,10.906,3.752,13.635l161.934,92.046c1.534,0.873,3.238,1.307,4.941,1.307c1.853,0,3.703-0.515,5.328-1.538   l74.026-46.614c4.674-2.942,6.077-9.117,3.134-13.79C251.482,272.29,245.306,270.886,240.633,273.83z" data-original="#000000" class="active-path" data-old_color="#6===--" fill="#639440"/><path d="M426.674,196.681l-74.026,46.613c-4.674,2.942-6.077,9.117-3.134,13.79c1.9,3.02,5.149,4.673,8.472,4.673   c1.82,0,3.664-0.497,5.318-1.539l74.026-46.613c4.674-2.942,6.077-9.117,3.134-13.79   C437.522,195.14,431.347,193.737,426.674,196.681z" data-original="#000000" class="active-path" data-old_color="#6===--" fill="#639440"/><path d="M240.633,313.83l-68.961,43.424L14.943,268.167c-4.798-2.728-10.906-1.052-13.635,3.752   c-2.729,4.801-1.05,10.906,3.752,13.635l161.934,92.046c1.534,0.873,3.238,1.307,4.941,1.307c1.853,0,3.703-0.515,5.328-1.538   l74.026-46.614c4.674-2.942,6.077-9.117,3.134-13.79C251.482,312.289,245.306,310.886,240.633,313.83z" data-original="#000000" class="active-path" data-old_color="#6===--" fill="#639440"/><path d="M426.674,236.681l-74.026,46.613c-4.674,2.942-6.077,9.117-3.134,13.79c1.9,3.02,5.149,4.673,8.472,4.673   c1.82,0,3.664-0.497,5.318-1.539l74.026-46.613c4.674-2.942,6.077-9.117,3.134-13.79   C437.522,235.141,431.347,233.738,426.674,236.681z" data-original="#000000" class="active-path" data-old_color="#6===--" fill="#639440"/><path d="M240.633,353.83l-68.961,43.424L14.943,308.167c-4.798-2.728-10.906-1.052-13.635,3.752   c-2.729,4.801-1.05,10.906,3.752,13.635l161.934,92.046c1.534,0.873,3.238,1.307,4.941,1.307c1.853,0,3.703-0.515,5.328-1.538   l74.026-46.614c4.674-2.942,6.077-9.117,3.134-13.79C251.482,352.29,245.306,350.886,240.633,353.83z" data-original="#000000" class="active-path" data-old_color="#6===--" fill="#639440"/></g></g></svg>
            Tutoring Fee&nbsp;<b>[&#8358;{{ number_format(c && c.monthly_tutoring_fee) }}]</b>
          </h5>
          <div class="sasasa"></div>
        </div>
        <div class="body">
          <div class="row m-0 ais">
            <div class="col-lg-4 col-12 cdcol">
              <div class="title">Subjects</div>
              <div class="items">
                <ul>
                  <li v-for="s of c.subjects">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="22px" height="22px" class=""><g><path d="m452 69.785156v-69.785156h-151c-17.902344 0-33.996094 7.882812-45 20.355469-11.003906-12.472657-27.097656-20.355469-45-20.355469h-151v69.785156h-60v442.214844l82.214844-82.214844h429.785156v-360zm-211 218.070313c-8.832031-5.121094-19.074219-8.070313-30-8.070313h-121v-30h121c16.542969 0 30 13.460938 30 30zm-151 21.929687h121c16.542969 0 30 13.460938 30 30h-151zm332-30h-121c-10.925781 0-21.167969 2.949219-30 8.070313v-8.070313c0-16.539062 13.457031-30 30-30h121zm0 30v30h-151c0-16.539062 13.457031-30 30-30zm-121-279.785156h121v189.785156h-121c-10.925781 0-21.167969 2.949219-30 8.070313v-167.855469c0-16.542969 13.457031-30 30-30zm-90 0c16.542969 0 30 13.457031 30 30v167.855469c-8.832031-5.121094-19.074219-8.070313-30-8.070313h-121v-189.785156zm271 369.785156h-412.214844l-39.785156 39.789063v-339.789063h30v270h392v-270h30zm0 0" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></svg>
                    {{ s.name }}
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-lg-4 col-12 cdcol">
              <div class="title">Days</div>
              <div class="items">
                <ul>
                  <li v-for="d of c.days" :key="d.id">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve" width="22px" height="22px" class=""><g><g><g><path d="M462,44h-47.667V30c0-16.542-13.458-30-30-30s-30,13.458-30,30v14h-168V30c0-16.542-13.458-30-30-30s-30,13.458-30,30    v14.37c-0.85-0.235-1.741-0.37-2.666-0.37H83.823c-27.57,0-50,22.43-50,50v170.333c0,5.523,4.478,10,10,10s10-4.477,10-10V147    h360.51c5.522,0,10-4.477,10-10s-4.478-10-10-10H53.823V94c0-16.542,13.458-30,30-30h39.844c0.925,0,1.816-0.136,2.666-0.37V76.5    c0,16.542,13.458,30,30,30s30-13.458,30-30V64h168v12.5c0,16.542,13.458,30,30,30s30-13.458,30-30V64H462    c16.542,0,30,13.458,30,30v379.994c0,9.928-8.077,18.006-18.006,18.006s-18.006-8.078-18.006-18.006v-25.869    c0-5.523-4.478-10-10-10H329.667c-5.522,0-10,4.477-10,10s4.478,10,10,10h106.321v15.869c0,6.511,1.648,12.643,4.545,18.006H38    c-9.925,0-18-8.075-18-18v-15.875h223.825c5.522,0,10-4.477,10-10s-4.478-10-10-10h-99.916    c17.474-15.049,28.57-37.309,28.57-62.125c0-45.215-36.785-82-82-82c-45.215,0-82,36.785-82,82    c0,24.816,11.096,47.076,28.57,62.125H10c-5.522,0-10,4.477-10,10V474c0,20.953,17.047,38,38,38h435.994    C494.95,512,512,494.951,512,473.994V94C512,66.43,489.57,44,462,44z M166.333,76.5c0,5.514-4.486,10-10,10s-10-4.486-10-10V30    c0-5.514,4.486-10,10-10s10,4.486,10,10V76.5z M394.333,76.5c0,5.514-4.486,10-10,10c-5.514,0-10-4.486-10-10V30    c0-5.514,4.486-10,10-10c5.514,0,10,4.486,10,10V76.5z M28.479,376c0-34.187,27.813-62,62-62s62,27.813,62,62s-27.813,62-62,62    S28.479,410.187,28.479,376z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M468.309,129.93c-1.859-1.86-4.439-2.93-7.069-2.93c-2.631,0-5.21,1.07-7.07,2.93c-1.86,1.86-2.93,4.44-2.93,7.07    s1.069,5.21,2.93,7.07c1.861,1.86,4.439,2.93,7.07,2.93c2.63,0,5.21-1.07,7.069-2.93c1.86-1.86,2.931-4.44,2.931-7.07    S470.17,131.79,468.309,129.93z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M298.649,441.05c-1.859-1.86-4.439-2.92-7.069-2.92s-5.21,1.06-7.07,2.92c-1.86,1.87-2.93,4.44-2.93,7.07    c0,2.64,1.069,5.21,2.93,7.08c1.86,1.86,4.44,2.92,7.07,2.92s5.21-1.06,7.069-2.92c1.86-1.87,2.931-4.45,2.931-7.08    C301.58,445.49,300.51,442.92,298.649,441.05z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M226.245,304c-20.953,0-38,17.047-38,38s17.047,38,38,38s38-17.047,38-38S247.198,304,226.245,304z M226.245,360    c-9.925,0-18-8.075-18-18s8.075-18,18-18s18,8.075,18,18S236.17,360,226.245,360z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M319.578,304c-20.953,0-38,17.047-38,38s17.047,38,38,38s38-17.047,38-38S340.531,304,319.578,304z M319.578,360    c-9.925,0-18-8.075-18-18s8.075-18,18-18s18,8.075,18,18S329.503,360,319.578,360z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M412.912,304c-20.953,0-38,17.047-38,38s17.047,38,38,38c20.953,0,38-17.047,38-38S433.865,304,412.912,304z M412.912,360    c-9.925,0-18-8.075-18-18s8.075-18,18-18s18,8.075,18,18S422.837,360,412.912,360z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M132.912,200c-20.953,0-38,17.047-38,38s17.047,38,38,38s38-17.047,38-38S153.865,200,132.912,200z M132.912,256    c-9.925,0-18-8.075-18-18s8.075-18,18-18c9.925,0,18,8.075,18,18S142.837,256,132.912,256z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M319.578,200c-20.953,0-38,17.047-38,38s17.047,38,38,38s38-17.047,38-38S340.531,200,319.578,200z M319.578,256    c-9.925,0-18-8.075-18-18s8.075-18,18-18s18,8.075,18,18S329.503,256,319.578,256z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M412.912,200c-20.953,0-38,17.047-38,38s17.047,38,38,38c20.953,0,38-17.047,38-38S433.865,200,412.912,200z M412.912,256    c-9.925,0-18-8.075-18-18s8.075-18,18-18s18,8.075,18,18S422.837,256,412.912,256z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M226.245,200c-20.953,0-38,17.047-38,38s17.047,38,38,38s38-17.047,38-38S247.198,200,226.245,200z M226.245,256    c-9.925,0-18-8.075-18-18s8.075-18,18-18s18,8.075,18,18S236.17,256,226.245,256z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M126.104,351.629c-3.906-3.905-10.236-3.905-14.143,0l-32.566,32.567l-11.129-11.129c-3.906-3.905-10.236-3.905-14.143,0    c-3.905,3.905-3.905,10.237,0,14.143l18.201,18.199c1.876,1.875,4.419,2.929,7.071,2.929c2.652,0,5.195-1.054,7.071-2.929    l39.638-39.638C130.009,361.866,130.009,355.534,126.104,351.629z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g></g> </svg>
                    {{ d.name }} ({{ `${d.time.start} - ${d.time.end}` }})
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-lg-4 col-12 cdcol">
              <div class="title">Details</div>
              <div class="items">
                <ul>
                  <li>
                    <svg xmlns="http://www.w3.org/2000/svg" height="22px" version="1.1" viewBox="0 0 512.00002 512" width="22px" class=""><g><g id="surface1"><path d="M 323.695312 188.753906 C 317.832031 182.890625 308.324219 182.890625 302.460938 188.753906 L 188.753906 302.460938 C 182.890625 308.324219 182.890625 317.828125 188.753906 323.691406 C 191.6875 326.625 195.527344 328.089844 199.371094 328.089844 C 203.210938 328.089844 207.054688 326.625 209.984375 323.691406 L 323.695312 209.984375 C 329.554688 204.121094 329.554688 194.617188 323.695312 188.753906 Z M 323.695312 188.753906 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 291.09375 291.085938 C 288.289062 293.878906 286.6875 297.753906 286.6875 301.707031 C 286.6875 305.660156 288.289062 309.53125 291.09375 312.324219 C 293.882812 315.117188 297.75 316.71875 301.703125 316.71875 C 305.65625 316.71875 309.527344 315.117188 312.320312 312.324219 C 315.113281 309.53125 316.714844 305.660156 316.714844 301.707031 C 316.714844 297.753906 315.113281 293.878906 312.320312 291.085938 C 309.527344 288.292969 305.65625 286.691406 301.703125 286.691406 C 297.75 286.691406 293.882812 288.292969 291.09375 291.085938 Z M 291.09375 291.085938 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 221.351562 221.355469 C 224.152344 218.5625 225.753906 214.691406 225.753906 210.738281 C 225.753906 206.785156 224.152344 202.917969 221.351562 200.128906 C 218.558594 197.324219 214.695312 195.722656 210.742188 195.722656 C 206.789062 195.722656 202.917969 197.324219 200.125 200.128906 C 197.332031 202.917969 195.730469 206.78125 195.730469 210.738281 C 195.730469 214.691406 197.332031 218.5625 200.125 221.355469 C 202.917969 224.148438 206.789062 225.75 210.742188 225.75 C 214.695312 225.75 218.558594 224.148438 221.351562 221.355469 Z M 221.351562 221.355469 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 141.3125 485.28125 C 172.355469 500.863281 206.378906 509.960938 241.210938 511.996094 L 241.210938 401.226562 C 225.722656 399.609375 210.730469 395.515625 196.753906 389.25 Z M 141.3125 485.28125 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 401.246094 241.210938 L 512 241.210938 C 509.976562 206.003906 500.878906 172.132812 485.355469 141.269531 L 389.3125 196.71875 C 395.515625 210.550781 399.636719 225.515625 401.246094 241.210938 Z M 401.246094 241.210938 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 389.3125 315.722656 L 485.355469 371.175781 C 500.878906 340.3125 509.980469 306.441406 512 271.234375 L 401.246094 271.234375 C 399.636719 286.929688 395.515625 301.894531 389.3125 315.722656 Z M 389.3125 315.722656 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 374.253906 170.742188 L 470.289062 115.296875 C 460.8125 100.964844 449.828125 87.476562 437.398438 75.046875 C 424.972656 62.617188 411.484375 51.632812 397.148438 42.15625 L 341.703125 138.195312 C 354.1875 147.261719 365.183594 158.257812 374.253906 170.742188 Z M 374.253906 170.742188 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 341.703125 374.253906 L 397.148438 470.289062 C 411.484375 460.8125 424.972656 449.828125 437.398438 437.402344 C 449.828125 424.972656 460.8125 411.484375 470.292969 397.152344 L 374.253906 341.703125 C 365.183594 354.1875 354.1875 365.183594 341.703125 374.253906 Z M 341.703125 374.253906 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 129.9375 329.125 C 129.9375 329.121094 129.9375 329.121094 129.933594 329.117188 C 117.175781 307.066406 110.429688 281.855469 110.429688 256.222656 C 110.429688 175.832031 175.832031 110.429688 256.222656 110.429688 C 277.40625 110.429688 297.546875 114.976562 315.726562 123.132812 L 371.175781 27.089844 C 335.945312 9.375 296.804688 0 256.222656 0 C 187.785156 0 123.441406 26.652344 75.046875 75.046875 C 26.652344 123.441406 0 187.785156 0 256.222656 C 0 301.265625 11.863281 345.574219 34.308594 384.363281 C 34.3125 384.371094 34.316406 384.378906 34.320312 384.386719 C 54.28125 418.875 82.140625 448.316406 115.335938 470.222656 L 170.75 374.238281 C 154.371094 362.394531 140.359375 347.128906 129.9375 329.125 Z M 53.222656 356.089844 C 38.011719 325.179688 30.027344 290.953125 30.027344 256.222656 C 30.027344 136.546875 123.460938 38.273438 241.210938 30.519531 L 241.210938 81.039062 C 151.269531 88.683594 80.402344 164.335938 80.402344 256.222656 C 80.402344 282.082031 86.101562 307.589844 96.984375 330.824219 Z M 53.222656 356.089844 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M 271.238281 401.246094 L 271.238281 511.996094 C 306.445312 509.976562 340.3125 500.878906 371.175781 485.355469 L 315.726562 389.308594 C 301.898438 395.519531 286.933594 399.632812 271.238281 401.246094 Z M 271.238281 401.246094 " data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g></svg>
                    Status:&nbsp; <span class="status" :class="c.status ? c.status.name.toLowerCase() : 'default'"></span> {{ c.level !== null && c.level == 1 ? 'Launching' : 'Active' }}
                  </li>
                  <li>
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="22px" height="22px" viewBox="0 0 504.734 504.735" style="enable-background:new 0 0 504.734 504.735;" xml:space="preserve" class=""><g><g><g><path d="M482.743,160.8l-65.192,30.868c26.101,56.399,18.078,124.667-24.289,173.694l-35.515-35.516v123.576h123.576    l-36.782-36.782C508.969,345.471,521.634,243.999,482.743,160.8z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M343.938,482.722l-30.896-65.164c-56.375,26.125-124.671,18.078-173.693-24.288l35.515-35.516H51.288v123.576    l36.782-36.782C159.244,508.971,260.717,521.636,343.938,482.722z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M111.451,139.351l35.515,35.515V51.29H23.385l36.777,36.777c-64.394,71.203-77.06,172.675-38.169,255.875l65.168-30.896    C61.037,256.669,69.084,188.374,111.451,139.351z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="M453.425,146.963V23.387l-36.777,36.777C345.445-4.229,243.973-16.895,160.774,21.996l30.892,65.164    c56.4-26.101,124.671-18.078,173.693,24.289l-35.515,35.515H453.425z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><circle cx="252.354" cy="252.356" r="98.728" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g></g></svg>
                    Class per cycle:&nbsp; {{ c.classes_per_week * c.weeks_per_cycle }}
                  </li>
                  <li>
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 372.96 372.96" style="enable-background:new 0 0 372.96 372.96;" xml:space="preserve" width="22px" height="22px"><g><g><g><path d="M186.48,0C83.49,0,0,83.49,0,186.48s83.49,186.48,186.48,186.48s186.48-83.49,186.48-186.48    C372.828,83.545,289.415,0.132,186.48,0z M194.48,356.56v-32.8c0-4.418-3.582-8-8-8s-8,3.582-8,8v32.8    C90.759,352.372,20.588,282.201,16.4,194.48h32.8c4.418,0,8-3.582,8-8s-3.582-8-8-8H16.4C20.588,90.759,90.759,20.588,178.48,16.4    v32.8c0,4.418,3.582,8,8,8s8-3.582,8-8V16.4c87.721,4.188,157.892,74.359,162.08,162.08h-32.8c-4.418,0-8,3.582-8,8s3.582,8,8,8    h0.08h32.8C352.449,282.23,282.232,352.412,194.48,356.56z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g><g><g><path d="M270.88,260.88l-76.4-77.68v-80.72c0-4.418-3.582-8-8-8s-8,3.582-8,8v84c0.009,2.099,0.842,4.11,2.32,5.6l78.64,80    c3.093,3.159,8.161,3.213,11.32,0.12C273.919,269.107,273.973,264.039,270.88,260.88z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g></g></svg>
                    Expected duration of classes:&nbsp; {{ c.weeks}} {{c.weeks == 1 ? 'week' : 'weeks'}}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row aro">
      <!-- learners details -->
      <div class="card-ish card-50 learner-detail">
        <div class="top">
          <h5>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512.001 512.001" style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve" width="28px" height="28px" class=""><g><g><g><path d="M481.999,273.586v-47.58c0-8.284-6.716-15-15-15c-30.988,0-59.878,2.615-87.173,7.955    c-15.911-15.365-35.308-26.513-56.313-32.606c22.904-19.277,37.486-48.14,37.486-80.349c0-58.449-47.103-106-105-106    c-57.897,0-105,47.551-105,106c0,32.209,14.582,61.072,37.487,80.348c-21.005,6.094-40.402,17.242-56.313,32.606    c-27.295-5.339-56.185-7.955-87.173-7.955c-8.284,0-15,6.716-15,15v47.58c-17.459,6.192-30,22.865-30,42.42v30    c0,19.555,12.541,36.228,30,42.42v47.58c0,8.284,6.716,15,15,15c78.429,0,142.832,18.583,202.68,58.481    c5.015,3.342,11.621,3.35,16.641,0c59.848-39.898,124.25-58.481,202.68-58.481c8.284,0,15-6.716,15-15v-47.58    c17.459-6.192,30-22.865,30-42.42v-30C511.999,296.451,499.458,279.778,481.999,273.586z M180.999,106.006    c0-41.907,33.645-76,75-76s75,34.093,75,76c0,41.355-33.645,75-75,75C214.644,181.006,180.999,147.361,180.999,106.006z     M44.999,361.006c-8.271,0-15-6.729-15-15v-30c0-8.271,6.729-15,15-15s15,6.729,15,15v30    C59.999,354.277,53.27,361.006,44.999,361.006z M240.999,470.091c-54.453-31.141-112.886-46.88-181-48.869v-32.796    c17.459-6.192,30-22.865,30-42.42v-30c0-19.555-12.541-36.228-30-42.42v-32.368c70.481,2.023,127.134,18.62,181,52.916V470.091z     M255.999,268.145c-27.686-17.469-56.504-30.77-87.268-40.117c16.904-10.986,36.803-17.022,57.268-17.022h60    c20.465,0,40.364,6.036,57.268,17.022C312.503,237.375,283.684,250.676,255.999,268.145z M451.999,421.222    c-68.113,1.989-126.548,17.732-181,48.871V294.146c53.867-34.299,110.516-50.906,181-52.928v32.368    c-17.459,6.192-30,22.865-30,42.42v30c0,19.555,12.541,36.228,30,42.42V421.222z M481.999,346.006c0,8.271-6.729,15-15,15    s-15-6.729-15-15v-30c0-8.271,6.729-15,15-15s15,6.729,15,15V346.006z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g></g></svg>
            Learners Details
          </h5>
          <div class="sasasa"></div>
        </div>
        <div class="body">
          <div v-if="doneLoading">
            <div class="list" v-for="learner of c.learners">
              <div class="list--item">
                Learner's Name: <span>{{ learner.name }}</span>
              </div>
              <div class="list--item">
                Gender: <span>{{ learner.gender }}</span>
              </div>
              <div class="list--item">
                Class: <span>{{ learner.school_class && learner.school_class.name }}</span>
              </div>
              <div class="list--item">
                Curricula: <span><i v-for="curri of learner.curricula">{{curri.name}}</i></span>
              </div>
            </div>
          </div>
          <div v-else class="row justify-content-center">
            <div class="col text-center">
              <spinner />
            </div>
          </div>
        </div>
      </div>
      <!-- end learners details -->
      <!-- client details -->
      <div class="card-ish card-50 client-detail">
        <div class="top">
          <h5>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 470 470" enable-background="new 0 0 470 470" width="28px" height="28px" class=""><g><g><path d="M235,148.009c40.806,0,74.004-33.198,74.004-74.005C309.004,33.198,275.806,0,235,0s-74.004,33.198-74.004,74.004   C160.996,114.811,194.194,148.009,235,148.009z M235,15c32.535,0,59.004,26.469,59.004,59.004S267.535,133.009,235,133.009   s-59.004-26.47-59.004-59.005S202.465,15,235,15z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="m235,178.009c59.812,0 108.922,46.69 112.793,105.539h-173.333c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5 7.5,7.5h181.08c4.142,0 7.5-3.357 7.5-7.5 0-70.601-57.438-128.039-128.04-128.039s-128.04,57.438-128.04,128.039c0,4.143 3.358,7.5 7.5,7.5h30c4.142,0 7.5-3.357 7.5-7.5s-3.358-7.5-7.5-7.5h-22.254c3.872-58.849 52.983-105.539 112.794-105.539z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="m140.408,377.712l-41.143-6.905-19.281-36.995c-1.292-2.479-3.855-4.034-6.651-4.034s-5.359,1.555-6.651,4.034l-19.281,36.995-41.143,6.905c-2.757,0.463-5.028,2.42-5.892,5.079-0.864,2.658-0.177,5.577 1.781,7.571l29.227,29.77-6.147,41.263c-0.412,2.766 0.748,5.53 3.01,7.173 2.26,1.644 5.249,1.892 7.751,0.646l37.344-18.597 37.344,18.597c1.058,0.526 2.203,0.786 3.342,0.786 1.557,0 3.104-0.484 4.409-1.433 2.262-1.643 3.422-4.407 3.01-7.173l-6.147-41.263 29.227-29.77c1.958-1.994 2.645-4.913 1.781-7.571-0.862-2.658-3.133-4.615-5.89-5.078zm-38.437,34.577c-1.647,1.678-2.413,4.032-2.066,6.359l4.577,30.723-27.805-13.847c-2.105-1.049-4.581-1.049-6.687,0l-27.806,13.847 4.577-30.723c0.347-2.327-0.418-4.682-2.066-6.359l-21.762-22.166 30.634-5.142c2.32-0.39 4.323-1.845 5.41-3.931l14.356-27.546 14.356,27.546c1.087,2.086 3.09,3.541 5.41,3.931l30.634,5.142-21.762,22.166z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="m302.075,377.712l-41.143-6.905-19.281-36.995c-1.292-2.479-3.855-4.034-6.651-4.034s-5.359,1.555-6.651,4.034l-19.281,36.995-41.143,6.905c-2.757,0.463-5.028,2.42-5.892,5.079-0.864,2.658-0.177,5.577 1.781,7.571l29.227,29.77-6.146,41.263c-0.412,2.766 0.748,5.53 3.01,7.173 2.26,1.644 5.249,1.892 7.751,0.646l37.344-18.597 37.344,18.597c1.058,0.526 2.203,0.786 3.342,0.786 1.557,0 3.104-0.484 4.409-1.433 2.262-1.643 3.422-4.407 3.01-7.173l-6.146-41.263 29.227-29.77c1.958-1.994 2.645-4.913 1.781-7.571-0.864-2.658-3.135-4.615-5.892-5.078zm-38.437,34.577c-1.647,1.678-2.413,4.032-2.066,6.359l4.576,30.723-27.805-13.847c-1.053-0.524-2.198-0.786-3.343-0.786s-2.291,0.262-3.343,0.786l-27.805,13.847 4.576-30.723c0.347-2.327-0.418-4.682-2.066-6.359l-21.762-22.166 30.634-5.142c2.32-0.39 4.323-1.845 5.41-3.931l14.356-27.545 14.356,27.546c1.087,2.086 3.09,3.541 5.41,3.931l30.634,5.142-21.762,22.165z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="m469.633,382.791c-0.864-2.659-3.134-4.616-5.892-5.079l-41.143-6.905-19.281-36.995c-1.292-2.479-3.855-4.034-6.651-4.034s-5.359,1.555-6.651,4.034l-19.281,36.995-41.143,6.905c-2.757,0.463-5.028,2.42-5.892,5.079-0.864,2.658-0.177,5.577 1.781,7.571l29.227,29.77-6.147,41.263c-0.412,2.766 0.748,5.53 3.01,7.173 2.26,1.644 5.249,1.892 7.751,0.646l37.344-18.597 37.344,18.597c1.058,0.526 2.203,0.786 3.342,0.786 1.557,0 3.104-0.484 4.409-1.433 2.262-1.643 3.422-4.407 3.01-7.173l-6.147-41.263 29.227-29.77c1.96-1.993 2.647-4.912 1.783-7.57zm-44.328,29.498c-1.647,1.678-2.413,4.032-2.066,6.359l4.577,30.723-27.806-13.847c-1.053-0.524-2.198-0.786-3.343-0.786-1.146,0-2.291,0.262-3.343,0.786l-27.805,13.847 4.577-30.723c0.347-2.327-0.418-4.682-2.066-6.359l-21.762-22.166 30.634-5.142c2.32-0.39 4.323-1.845 5.41-3.931l14.356-27.546 14.356,27.546c1.087,2.086 3.09,3.541 5.41,3.931l30.634,5.142-21.763,22.166z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/><path d="m235,108.009c9.831,0 19.184-4.272 25.66-11.721 2.717-3.126 2.387-7.863-0.739-10.581-3.127-2.718-7.864-2.387-10.581,0.739-3.625,4.171-8.853,6.563-14.34,6.563s-10.714-2.392-14.34-6.563c-2.718-3.126-7.455-3.456-10.581-0.739-3.126,2.718-3.457,7.455-0.739,10.581 6.476,7.448 15.829,11.721 25.66,11.721z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#639440"/></g></g></svg>
            Tutor Details
          </h5>
          <div class="sasasa"></div>
        </div>
        <div class="body">
          <div class="list" v-if="doneLoading">
            <div class="list--item">
              Tutor Name: <span>{{ c.tutor && c.tutor.name ? c.tutor.name : 'Not Available' }}</span>
            </div>
            <div class="list--item">
              Tutor Number: <span>{{ c.tutor && c.tutor.phone ? c.tutor.phone : 'Not Available' }}</span>
            </div>
            <div class="list--item">
              Email Address: <span>{{ c.tutor && c.tutor.email ? c.tutor.email : 'Not Available' }}</span>
            </div>
            <div class="list--item">
              Location: <span>{{ c.tutor && c.tutor.location ? c.tutor.location : 'Not Available' }}</span>
            </div>
            <div class="list--item">
              Invoice Created: <span>{{ c.tutor && c.tutor.phone ? c.tutor.phone : 'Not Available' }}</span>
            </div>
          </div>
          <div v-else class="row justify-content-center">
            <div class="col text-center">
              <spinner />
            </div>
          </div>
        </div>
      </div>
      <!-- end client details -->
    </div>
    <b-modal ref="myModalRef" hide-footer size="lg" centered class="mkmodal" title="Make Complaint">
      <div class="d-block text-center">
        <div class="form-group">
          <input type="text" placeholder="Summary" v-model="summary" class="form-control">
        </div>
        <div class="form-group">
          <select class="form-control" v-model="regarding">
            <option value="" selected disabled>What is this ticket about</option>
            <option :value="category.id" v-for="category of categories" :key="category.id">{{ category.name }}</option>
          </select>
        </div>
        <div class="form-group">
            <editor v-model="content" :config="editorConfig"></editor>
        </div>
        <button class="btn btn-success btn-lg submit-button" @click.prevent="submit" :disabled="submitting">Submit <i class="fa fa-spin fa-circle-o-notch" v-show="submitting"></i></button>
      </div>
    </b-modal>
    <b-modal ref="vcalendar" hide-footer centered class="mkmodal" title="Select your Lesson dates">
        <div class="d-block text-center">
          <v-date-picker mode="multiple" isInline v-model="selectedDates" :select-attribute="selectAttribute" :disabled-dates="disabledDates"></v-date-picker>
          <button class="btn btn-success btn-lg submit-button" @click.prevent="saveDates" :disabled="saving">Submit <i class="fa fa-spin fa-circle-o-notch" v-show="submitting"></i></button>
        </div>
      </b-modal>
  </div>
</template>

<script>
import moment from 'moment';
import swal from 'sweetalert';
import Editor from 'vue-ckeditor2';
import Spinner from '@/components/Preloaders/Spinner';

export default {
  name: 'tutor-class',
  props: ['id'],
  components: { Spinner, Editor },
  data() {
    return {
      progress: {
        history: false,
        ticket_history: false,
      },
      API: `${BASE_API}/v1`,
      summary: '',
      content: '',
      regarding: '',
      submitting: false,
      doneLoading: false,
      toolbar: [
        [{ header: [false, 1, 2, 3, 4, 5, 6] }],
        ['bold', 'italic', 'underline', 'strike'],
        ['blockquote'],
        [{ list: 'ordered' }, { list: 'bullet' }],
        [{ indent: '-1' }, { indent: '+1' }],
      ],
      selectedDates: [],
      disabledDates: [],
      dates: [],
      selectAttribute: {
        highlight: {
          backgroundColor: '#639440',
          borderRadius: '3px',
          width: '80%',
        },
      },
      saving: false,
      editorConfig: {
        toolbar: [
          { name: 'clipboard', items: ['Undo', 'Redo'] },
          { name: 'styles', items: ['Styles', 'Format'] },
          {
            name: 'basicstyles',
            items: ['Bold', 'Italic', 'Strike', '-', 'RemoveFormat'],
          },
          {
            name: 'paragraph',
            items: [
              'NumberedList',
              'BulletedList',
              '-',
              'Outdent',
              'Indent',
              '-',
              'Blockquote',
            ],
          },
          { name: 'tools', items: ['Maximize'] },
        ],
      },
    };
  },
  computed: {
    c() {
      return this.$store.getters.session_class_by_id(parseInt(this.id, 10));
    },
    cl() {
      return this.$store.getters.cycle_logs
        .filter(g => this.c && g.session_class && g.session_class.id === this.c.id).slice(0, 2);
    },
    tickets() {
      return this.$store.getters.class_tickets.slice(0, 2);
    },
    categories() {
      return this.$store.getters.ticket_categories;
    },
    unInvoicedDates() {
      return this.dates.filter(d => !d.hasInvoice).map(d => new Date(d.date));
    },
    invoicedDates() {
      return this.dates.filter(d => d.hasInvoice).map(d => new Date(d.date));
    },
  },
  methods: {
    moments(val) {
      return moment(val).format('MMM D, YYYY');
    },
    async fetchDates() {
      try {
        const { data: { data: dates } } = await this.$http
          .get(`${this.API}/client/session-classes/${this.id}/dates`);
        this.dates = dates;
        this.filterDates(dates);
      } catch (e) {
        console.error(e);
      }
    },
    filterDates(dates) {
      this.selectedDates = dates.filter(d => !d.hasInvoice).map(d => new Date(d.date));
      this.disabledDates = dates.filter(d => d.hasInvoice).map(d => new Date(d.date));
    },
    showModal() {
      this.$refs.myModalRef.show();
    },
    showCalendar() {
      this.$refs.vcalendar.show();
    },
    hideModal() {
      this.resetModalForm();
      this.$refs.myModalRef.hide();
    },
    hideCalendar() {
      this.$refs.vcalendar.hide();
    },
    resetModalForm() {
      this.summary = '';
      this.content = '';
      this.regarding = '';
    },
    itemType(val) {
      switch (val && val.name) {
        case 'active':
          return 'success';
        case 'ended':
          return 'fail';
        default:
          return 'default';
      }
    },
    statusize(val) {
      switch (val) {
        case 0:
          return 'ended';
        case 1:
          return 'paused';
        case 2:
          return 'active';
        default:
          return 'active';
      }
    },
    submit() {
      this.submitting = true;

      const data = {
        class_id: this.id,
        title: this.summary,
        category: this.regarding,
        description: this.content,
      };
      this.$store.dispatch('makeTicket', data)
        .then(() => {
          this.submitting = false;
          this.hideModal();
        })
        .catch(error => console.error(error));
    },
    saveDates() {
      this.saving = true
      this.$http.post(`${this.API}/client/session-classes/${this.id}/dates`, {
        dates: this.selectedDates ? this.selectedDates.map(d => moment(d).format('YYYY-MM-DD')) : []
      }).then(({ data: { data } }) => {
        this.dates = data;
        this.filterDates(data);
        this.saving = false;
        this.hideCalendar();
      })
        .catch((err) => {
          console.error(err);
          this.saving = false;
        });
    },
    getSubjects(val) {
      let sb = '';

      if (typeof val !== 'object') {
        return null;
      }

      val.forEach((sub) => {
        sb += `${sub.name}, `;
      });

      return sb;
    },
    getDays(val) {
      let ds = '';

      if (typeof val !== 'object') {
        return null;
      }

      val.forEach((day) => {
        ds += `${day.name} (${day.time.start} - ${day.time.end}), `;
      });

      return ds;
    },
    number_format(n, decimals, decPoint, thousandPoint) {
      let number = n;

      if (number == null || !isFinite(number)) {
        throw new TypeError('number is not valid');
      }

      if (!decimals) {
        const len = number.toString().split('.').length;
        decimals = len > 1 ? len : 0;
      }

      if (!decPoint) {
        decPoint = '.';
      }

      if (!thousandPoint) {
        thousandPoint = ',';
      }

      number = parseFloat(number).toFixed(decimals);
      number = number.replace('.', decPoint);
      var splitNum = number.split(decPoint);
      splitNum[0] = splitNum[0].replace(/\B(?=(\d{3})+(?!\d))/g, thousandPoint);
      number = splitNum.join(decPoint);
      return number;
    },
  },
  created() {
    if (!this.$store.getters.session_class_by_id(parseInt(this.id))) {
      this.$store.dispatch('getClasses')
        .then(() => this.$store.dispatch('getCategories'))
        .then(() => this.doneLoading = true)
        .catch(error => swal('Something went wrong', error, 'error'));
    } else {
      this.doneLoading = true;
    }
  },
  mounted() {
    this.$store.dispatch('getClassTickets', this.id)
      .then(() => this.progress.ticket_history = true)
      .catch(error => console.error(error));

    this.$store.dispatch('getCycleLogs')
      .then(() => this.progress.history = true)
      .catch(error => console.error(error));

    this.fetchDates();
  },
};
</script>

<style lang="scss" scoped>
* {
  box-sizing: border-box;
}

.hold {
  padding: 25px 0;
  height: 100%;
}

.container-material {
  display: block;
}

.aro {padding: 30px 0;}

.ais {
  display: flex;
  flex-direction: row;
  align-items: stretch;
}

.card-ish {
  border: 1px solid rgba(224, 227, 218, .5);
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
  padding: 0;
  // margin: 0 23px;
  .top {
    padding: 15px 20px;
    position: relative;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    h5 {
      display: flex;
      flex-direction: row;
      align-items: center;
      color: #576271;
      font-size: 20px;
      justify-content: flex-start;
      font-weight: 500;
      svg {margin-right: 15px;}
    }
    button {
      height: 43px;
      width: 176px;
      border-radius: 4px;
      font-size: 14px;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
    }
    .sasasa {
      position: absolute;
      height: 1px;
      width: calc(100% - 40px);
      box-shadow: 0 3px  6px rgba(0, 0, 0, 0.16);
      background-color: rgba(224, 227, 218, 1);
      bottom: 0;
    }
  }
  .body {
    position: relative;
    padding-bottom: 25px;
    .b {position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%);}
    .list {
      width: 90%;
      margin-top: 25px;
      margin-left: auto;
      margin-right: auto;
      .list--item {
        width: 100%;
        padding: 12px 0;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        color: #576271;
        border-bottom: 1px solid #E0E3DA;
        span {font-weight: 300; text-transform: capitalize;}
      }
    }
    .cdcol {
      height: 100%;
      padding: 30px;
      .title {
        font-weight: 600;
        color: #4D4F5C;
        font-size: 16px;
      }
      &:not(:last-child) {
        border-right: 1px solid #E0E3DA;
      }
      .items {
        ul {
          padding: 0;
          margin: 0;
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          flex-wrap: wrap;
          margin-top: 15px;
          li {
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            align-items: center;
            margin: 15px 0;
            text-transform: capitalize;
            svg { margin-right: 5px}
          }
        }
      }
    }
  }
  &.card-50 {
    width: 49%;
  }
  &.card-100 {
    width: 100%;
  }
  &.class-history, &.learner-detail {
    margin-right: 1%;
    .top {
      button {background-color: #109BF8; color: #ffffff;}
    }
  }
  &.ticket-history, &.client-detail {
    margin-left: 1%;
    .top {
      button {background-color: #F83B54; color: #ffffff;}
    }
  }
}
.table {
  margin-top: 20px;
  width: 90%;
  margin-left: auto;
  margin-right: auto;
  thead {
    tr {
      td {
        border-top: none;
        color: #576271;
        text-transform: capitalize;
        font-size: 16px;
        font-weight: 300;
      }
    }
  }
  tbody {
    tr {
      &:hover {background-color: #fafafa;}
      td {
        color: #576271;
        text-transform: capitalize;
        font-size: 13px;
        padding: 20px 10px;
        border-top: 1px solid rgba(112, 112, 112, .12);
        a {
          color: #576271;
          text-transform: capitalize;
          font-size: 13px;
          &:hover {color: #639440; text-decoration: none;}
        }
        &.status {
          span {
            content: ' ';
            display: inline-block;
            margin-right: 5px;
            height: 10px;
            width: 10px;
            border-radius: 100%;
            background-color: #4D4F5C;
            &.active, &.open {background-color: #38ADB6;}
            &.ended {background-color: #F83B54;}
            &.paused {background-color: #FFBB03;}
          }
        }
      }
    }
  }
}
span.status {
  content: ' ';
  display: inline-block;
  margin-right: 5px;
  height: 10px;
  width: 10px;
  text-transform: capitalize;
  border-radius: 100%;
  background-color: #4D4F5C;
  &.active, &.open {background-color: #38ADB6;}
  &.ended {background-color: #F83B54;}
  &.paused {background-color: #FFBB03;}
}
@media only screen and (max-width: 600px) {
  .card-ish {
    &.card-50 {width: 100%; margin-bottom: 15px; margin-left: 0 !important; margin-right: 0 !important;}
  }
  .table {
    width: 100%;
    margin-left: 0;
    overflow-x: auto;
    thead {
      tr {
        td {font-size: 12px;}
      }
    }
    tbody {
      tr {
        td {
          font-size: 10px;
          a {font-size: 10px;}
        }
      }
    }
  }
}
</style>

<style lang="scss">
.mkmodal {
  .modal-backdrop {
    opacity: 1;
    background-color: #E2E8ED;
    filter: blur(9px) brightness(50) opacity(50%);
  }
  .modal-content {
    border: none;
    box-shadow: 5px 5px 30px rgba(0, 0, 0, 0.08);
    border-radius: 6px;
    .modal-header {
      justify-content: center;
      position: relative;
      border-bottom: none;
      .modal-title {
        text-align: center;
      }
      .close {
        float: right;
        right: 0;
        top: 0;
        margin: 0;
        position: absolute;
      }
    }
    .modal-body {
      width: 80%;
      margin-left: auto;
      margin-right: auto;
      .form-control {
        border-radius: 4px;
        border: 1px solid #E8E9EC;
        padding: 5px 15px; 
        color: #4D4F5C;
        &::placeholder {color: #4D4F5C; opacity: 0.3;}
      }
      select.form-control {
        option {
          padding: 10px;
        }
      }
      .quillWrapper {
        .ql-toolbar.ql-snow {
          border: 1px solid #E8E9EC;
          border-top-right-radius: 4px;
          border-top-left-radius: 4px;
          text-align: left;
          padding: 4px 15px;
          .ql-formats {
            margin: 0;
          }
          .ql-picker-label {
            font-size: 13px;
          }
          button {
            svg {height: 16px; width: 16px}
          }
        }
        .ql-container.ql-snow {
          border: 1px solid #E8E9EC;
          border-bottom-left-radius: 4px;
          border-bottom-right-radius: 4px;
          border-top: none;
        }

      }
      .btn {
        width: 130px;
        height: 38px;
        line-height: 38px;
        padding: 0 10px;
        text-align: center;
        border-radius: 4px;
        font-size: 14px;
        vertical-align: middle;
        box-shadow: 0 2px 2px 0 rgba(40, 167, 69, 0.14), 0 3px 1px -2px rgba(40, 167, 69, 0.12), 0 1px 5px 0 rgba(40, 167, 69, 0.2);
        &:focus {
          outline: 0 !important;
          box-shadow: none !important;
          &:active {box-shadow: none !important;}
        }
      }
      .c-pane-container {
        width: 100%;
        margin-top: 0px;
        margin-bottom: 50px;
        border: none !important;
        background-color: #ffffff !important;

        .c-header {
          padding: 15px 10px;
          padding-bottom: 35px;
          .c-arrow-layout {
            padding: 10px;
            border: 1px solid #E8E9EC;
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.05);
            border-radius: 4px;
          }
          .c-title {
            font-size: 14px;
            color: #639440;
          }
        }
        .c-weekdays {
          .c-weekday {
            padding: 15px;
            font-size: 12px;
            font-weight: 600;
            background-color: rgba(221, 232, 213, 1);
          }
        }
        .c-week {
          .c-day-content {
            padding: 15px;
            font-size: 11px;
          }
        }
      }
    }
  }
}
</style>